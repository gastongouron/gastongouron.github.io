<!-- 8.6 SQL Cheatsheet -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SQL Cheat Sheet</title>
  <link rel="stylesheet" type="text/css" href="../stylesheets/style.css">
  <link rel="icon" href="../imgs/favicon.png">
</head>

<body>
  <header>
    <h1>DataBases: SQL Cheat Sheet</h1>
    <p>SQL <i>(Structured Query Language)</i> is a special-purpose programming language designed for managing data held in a relational database management system <i>(RDBMS)</i>, or for stream processing in a relational data stream management system <i>(RDSMS)</i>. Here is a structure one-page cheat sheet for this language.</p>
  </header>
  <img height="200px" src="sql.png">
  <section class="column-1">

    <!-- article -->
    <article>

      <h2>DATABASE MANIPULATION</h2>
      <p>Here ou will find basic commands to create or delete a database.</p>
      <p>To see a summary of each command, click it.</p>
      <details>
        <summary><code>CREATE DATABASE database_name</code></summary>
        <p>Create a database</p>
      </details>
      <details>
        <summary><code>DROP DATABASE database_name</code></summary>
        <p>Delete a database</p>
      </details>
    </article>

    <!-- article -->
    <article>
      <h2>TABLE MANIPULATION</h2>
      <p>Create a table in a database.</p>
      <details>
        <summary><code>CREATE TABLE "table_name" ("col1" "data_col1", "col2" "data_col2")</code><br><br></summary>
        <p>Create a table in database</p>

        <table style=" width:100%">
          <thead>
            <tr>
              <th>Data Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>integer(size)<br>int(size)<br>smallint(size)<br>tinyint(size)<br></td>
              <td>Hold integers only. The maximum number of digits are specified in parenthesis.</td>
            </tr>
            <tr>
              <td>decimal(size,d)<br>numeric(size,d)<br></td>
              <td>Hold numbers with fractions. The maximum number of digits are specified in "size". The maximum number of digits to the right of the decimal is specified in "d".</td>
            </tr>
            <tr>
              <td>char(size)<br></td>
              <td>Holds a fixed length string (can contain letters, numbers, and special characters). The fixed size is specified in parenthesis.</td>
            </tr>
            <tr>
              <td>varchar(size)<br></td>
              <td>Holds a variable length string (can contain letters, numbers, and special characters). The maximum size is specified in parenthesis.</td>
            </tr>
            <tr>
              <td>date(yyyymmdd)<br></td>
              <td>Holds a date</td>
            </tr>
          </tbody>
        </table>


      </details>
      <details>
        <summary><code>ALTER TABLE table_name ADD column_name datatype</code></summary>
        <p>Add columns in an existing table.</p>
      </details>
      <details>
        <summary><code>ALTER TABLE table_name DDROP column_name datatype</code></summary>
        <p>Delete columns in an existing table.</p>
      </details>
      <details>
        <summary><code>DROP TABLE table_name</code></summary>
        <p>Delete a table.</p>
      </details>
    </article>
  </article>

  <article>
    <h2>INDEX MANIPULATION</h2>
    <p>Create a table index in a database.</p>

    <details>
      <summary><code>CREATE INDEX index_name<br>
        &nbsp;&nbsp;ON table_name (column_name_1, column_name_2)</code><br><br>
      </summary>
      <p>Create a simple index.</p>
    </details>
    <details>
      <summary><code>CREATE UNIQUE INDEX index_name<br>
        &nbsp;&nbsp;ON table_name (column_name_1, column_name_2)</code><br><br>
      </summary>
      <p>Create a unique index.</p>
    </details>
    <details>
      <summary><code>DROP INDEX table_name.index_name</code>
      </summary>
      <p> Delete a index.</p>
    </details>

  </article>

  <article>
    <h2>DATA MANIPULATION</h2>
    <p>Insert/update/delete data in a database.</p>
    <details>
      <summary><code>INSERT INTO table_name<br>
        &nbsp;&nbsp;VALUES (value_1, value_2,....)</code><br><br>
      </summary>
      <p>Insert new rows into a table.</p>
    </details>
    <details>
      <summary><code>INSERT INTO table_name (column1, column2,...)<br>
        &nbsp;&nbsp;VALUES (value_1, value_2,....)</code><br><br>
      </summary>
      <p>Insert new rows into a table with column names.</p>
    </details>
    <details>
      <summary><code>UPDATE table_name<br>
        &nbsp;&nbsp;SET column_name_1 = new_value_1, column_name_2 = new_value_2<br>
        &nbsp;&nbsp;WHERE column_name = some_value</code><br><br>
      </summary>
      <p>Update one or several columns in rows.</p>
    </details>
    <details>
      <summary><code>DELETE FROM table_name<br>
        &nbsp;&nbsp;WHERE column_name = some_value</code><br><br>
      </summary>
      <p> Delete rows in a table.</p>
    </details>
    <details>
      <summary><code>UPDATE table_name<br>
        &nbsp;&nbsp;SET column_name_1 = new_value_1, column_name_2 = new_value_2<br>
        &nbsp;&nbsp;WHERE column_name = some_value</code>
      </summary>
      <p>Update one or several columns in rows.</p>
    </details>
  </article>


  <article>
    <h2>SELECT</h2>
    <p>Select items in a database</p>

    <details>
      <summary><code>SELECT column_name(s) FROM table_name<br></code>
      </summary>
      <p>Select data from a table.</p>
    </details>

    <details>
      <summary><code>SELECT * FROM table_name<br></code>
      </summary>
      <p>Select all data from a table.</p>
    </details>

    <details>
      <summary><code>SELECT DISTINCT column_name(s) FROM table_name<br></code><br><br>
      </summary>
      <p>Select only distinct (different) data from a table.</p>
    </details>

    <details>
      <summary><code>SELECT column_name(s) FROM table_name<br>
        &nbsp;&nbsp;WHERE column operator value<br>
        &nbsp;&nbsp;&nbsp;&nbsp;AND column operator value<br>
        &nbsp;&nbsp;&nbsp;&nbsp;OR column operator value<br>
        &nbsp;&nbsp;&nbsp;&nbsp;AND (... OR ...)<br>
        &nbsp;&nbsp;&nbsp;&nbsp;...</code><br><br>
      </summary>
      <p>Select only certain data from a table.</p>
      <table style=" width:100%">
        <thead>
          <tr>
            <th>Operator</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>=</td>
            <td>Equal</td>
          </tr>
          <tr>
            <td><></td>
            <td>Not Equal</td>
          </tr>
          <tr>
            <td>></td>
            <td>Greater than</td>
          </tr>
          <tr>
            <td><</td>
            <td>Less than</td>
          </tr>
          <tr>
            <td>>=</td>
            <td>Greater than or equal</td>
          </tr>
          <tr>
            <td><=</td>
            <td>Less than or equal</td>
          </tr>
          <tr>
            <td>BETWEEN</td>
            <td>Between an inclusive range</td>
          </tr>
          <tr>
            <td>LIKE</td>
            <td> Search for a pattern.
              A "%" sign can be used to define wildcards (missing letters in the pattern) both before and after the pattern.</td>
            </tr>
          </tbody>
        </table>
      </details>

      <details>
        <summary><code>SELECT column_name(s) FROM table_name<br>
          &nbsp;&nbsp;WHERE column_name IN (value1, value2, ...)</code><br><br>
        </summary>
        <p>The IN operator may be used if you know the exact value you want to return for at least one of the columns.</p>
      </details>

      <details>
        <summary><code>SELECT column_name(s) FROM table_name<br>
          &nbsp;&nbsp;ORDER BY row_1, row_2 DESC, row_3 ASC, ...</code><br><br>
        </summary>
        <p>Select data from a table with sort the rows. Notes:<br><b>ASC</b> (ascend) is a alphabetical and numerical order (optional)<br><b>DESC</b> (descend) is a reverse alphabetical and numerical order</p>
      </details>

      <details>
        <summary><code>SELECT column_1, ..., SUM(group_column_name)<br>
          &nbsp;&nbsp;FROM table_name GROUP BY group_column_name</code><br><br>
        </summary>
        <p><b>GROUP BY...</b> was added to SQL because aggregate functions (like SUM) return the aggregate of all column values every time they are called, and without the GROUP BY function it was impossible to find the sum for each individual group of column values.</p>
        <table style=" width:100%">
          <thead>
            <tr>
              <th>Function</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>AVG(column)</td>
              <td>Returns the average value of a column</td>
            </tr>
            <tr>
              <td>COUNT(column)</td>
              <td>Returns the number of rows (without a NULL value) of a column</td>
            </tr>
            <tr>
              <td>MAX(column)</td>
              <td>Returns the highest value of a column</td>
            </tr>
            <tr>
              <td>MIN(column)</td>
              <td>Returns the lowest value of a column</td>
            </tr>
            <tr>
              <td>SUM(column)</td>
              <td>Returns the average value of a column</td>
            </tr>
          </tbody>
        </table>
      </p>
    </details>

    <details>
      <summary><code>SELECT column_1, ..., SUM(group_column_name)<br>
        &nbsp;&nbsp;FROM table_name<br>
        &nbsp;&nbsp;GROUP BY group_column_name<br>
        &nbsp;&nbsp;HAVING SUM(group_column_name) condition value<br></code>
      </summary>
      <p><b>HAVING...</b> was added to SQL because the WHERE keyword could not be used against aggregate functions (like SUM), and without HAVING... it would be impossible to test for result conditions.</p>
    </details>
  </article>
</section>

<!-- Column2 -->
<section class="column-2">

  <article>
    <h2>ALIAS</h2>
    <p>Column and table <a href="http://www.w3schools.com/sql/sql_alias.asp">alias</a></p>

    <details>
      <summary><code>SELECT column_name AS column_alias FROM table_name</code>
      </summary>
      <p>Column name alias</p>
    </details>

  </article>

  <details>
    <summary><code>SELECT table_alias.column_name FROM table_name AS table_alias</code>
    </summary>
    <p>Table name alias</p>
  </details>
</article>

<article>
  <h2>JOIN</h2>
  <p>Return matches</a></p>

  <details>
    <summary><code>SELECT column_1_name, column_2_name, ...<br>
      &nbsp;&nbsp;FROM first_table_name<br>
      &nbsp;&nbsp;INNER JOIN second_table_name<br>
      &nbsp;&nbsp;ON first_table_name.keyfield = <br>
      &nbsp;&nbsp;second_table_name.foreign_keyfield</code>
    </summary>
    <p>The <b>INNER JOIN</b> returns all rows from both tables where there is a match. If there are rows in first table that do not have matches in second table, those rows will not be listed.</p>
  </details><br>


  <details>
    <summary><code>SELECT column_1_name, column_2_name, ...<br>
      &nbsp;&nbsp;FROM first_table_name<br>
      &nbsp;&nbsp;LEFT JOIN second_table_name<br>
      &nbsp;&nbsp;ON first_table_name.keyfield =<br>
      &nbsp;&nbsp;second_table_name.foreign_keyfield<br></code>
    </summary>
    <p>The <b>LEFT JOIN</b> returns all the rows from the first table, even if there are no matches in the second table. If there are rows in first table that do not have matches in second table, those rows also will be listed.</p>
  </details><br>

  <details>
    <summary><code>SELECT column_1_name, column_2_name, ...<br>
      &nbsp;&nbsp;FROM first_table_name<br>
      &nbsp;&nbsp;RIGHT JOIN second_table_name<br>
      &nbsp;&nbsp;ON first_table_name.keyfield =<br>
      &nbsp;&nbsp;second_table_name.foreign_keyfield
      <br></code>
    </summary>
    <p>The <b>RIGHT JOIN</b> returns all the rows from the second table, even if there are no matches in the first table. If there had been any rows in second table that did not have matches in first table, those rows also would have been listed.</p>
  </details>

</article>

<article>
  <h2>UNION</h2>
  <p>Select different values from two or more statements</p>

  <details>
    <summary><code>SQL_Statement_1<br>
      &nbsp;&nbsp;UNION<br>
      &nbsp;&nbsp;SQL_Statement_2<br>
    </code><br>
  </summary>
  <p>Select all different values from SQL_Statement_1 and SQL_Statement_2</p>
</details>

<details>
  <summary><code>SQL_Statement_1<br>
    &nbsp;&nbsp;UNION ALL<br>
    &nbsp;&nbsp;SQL_Statement_2<br>
  </code>
</summary>
<p>Select all values from SQL_Statement_1 and SQL_Statement_2</p>
</details>

</article>

<article>
  <h2>SELECT INTO/IN</h2>
  <p>Select from table(s) and insert to other tables(s)</p>

  <details>
    <summary><code>SELECT column_name(s)<br>
      &nbsp;&nbsp;INTO new_table_name<br>
      &nbsp;&nbsp;FROM source_table_name<br>
      &nbsp;&nbsp;WHERE query<br>
    </code><br>
  </summary>
  <p>Select data from table(S) and insert it into another table.</p>
</details>

<details>
  <summary><code>SELECT column_name(s)<br>
    &nbsp;&nbsp;IN external_database_name<br>
    &nbsp;&nbsp;FROM source_table_name<br>
    &nbsp;&nbsp;WHERE query<br>
  </code><br>
</summary>
<p>Select data from table(S) and insert it in another database.</p>
</details>

</article>

<article>
  <h2>CREATE VIEW</h2>
  <p>Virtual tables based on defined statements</p>

  <details>
    <summary><code>CREATE VIEW view_name AS<br>
      &nbsp;&nbsp;SELECT column_name(s)<br>
      &nbsp;&nbsp;FROM table_name<br>
      &nbsp;&nbsp;WHERE condition</code><br>
    </summary>
    <p>Select data from table(S) and insert it into another table.</p>
  </details>

</article>
</section>
<footer>
  This information is partially copied from <a href="http://www.cheat-sheets.org/sites/sql.su/">Cheat-sheets.org</a> and <a href="https://en.wikipedia.org/wiki/SQL">Wikipedia</a>.
</footer>
</body>
</html>